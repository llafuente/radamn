<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>
<script type="text/javascript">
var CRadamn = {
    createWindow: function(width, height) {
        var canvas = document.createElement("canvas");
        canvas.width = width;
        canvas.height = height;
        canvas.inject(document.body);
        /*
        var ctx = canvas.getContext("2d");
        setInterval(function() {
        console.log("paint!");
            //happy face!
            ctx.beginPath();
            ctx.arc(75,75,50,0,Math.PI*2,true); // Outer circle
            ctx.moveTo(110,75);
            ctx.arc(75,75,35,0,Math.PI,false);   // Mouth (clockwise)
            ctx.moveTo(65,65);
            ctx.arc(60,65,5,0,Math.PI*2,true);  // Left eye
            ctx.moveTo(95,65);
            ctx.arc(90,65,5,0,Math.PI*2,true);  // Right eye
            ctx.stroke();
        }, 250);
        */

        return canvas;
    },
    pollEvent: function() {
        return false;
    },
    Window: {
        setCaption : function(caption) {
            console.log("ignore caption", caption);
        },
    },
    GL: {
    },
    Image: {
        load: function(path) {
            var img = new Image();
            img.path = path;
            img.src = path;

            img.__ready = false;
            img.onload = function() {
            console.log("loaded!");
                img.__ready = true;
            };

            return img;
        }
    }
    };
</script>
<script type="text/javascript" src="../lib/sax.js"></script>
<script type="text/javascript" src="../lib/assert.js"></script>
<script type="text/javascript" src="../lib/mootools-core-1.4.3.js"></script>
<script type="text/javascript" src="../lib/mootools-hash.js"></script>

<script type="text/javascript" src="../lib/mootools-extensions.js"></script>
<!--
<script type="text/javascript" src="../lib/mootools-extends.js"></script>
-->
<script type="text/javascript" src="../lib/radamn.math.js"></script>
<script type="text/javascript" src="../lib/radamn.math.types.js"></script>

<script type="text/javascript" src="../lib/radamn.js"></script>

<script type="text/javascript" src="../lib/radamn.$.js"></script>
<script type="text/javascript" src="../lib/radamn.camera.js"></script>
<script type="text/javascript" src="../lib/radamn.window.js"></script>
<script type="text/javascript" src="../lib/radamn.assets.js"></script>
<script type="text/javascript" src="../lib/radamn.resource.js"></script>
<script type="text/javascript" src="../lib/radamn.resource.rendereable.js"></script>
<script type="text/javascript" src="../lib/radamn.image.js"></script>
<script type="text/javascript" src="../lib/radamn.animation.js"></script>
<script type="text/javascript" src="../lib/radamn.font.js"></script>
<script type="text/javascript" src="../lib/radamn.canvas.js"></script>
<script type="text/javascript" src="../lib/radamn.node.js"></script>
<script type="text/javascript" src="../lib/radamn.tmx.js"></script>


<script type="text/javascript" src="../examples/plugins/demo.js"></script>



</head>

<body>
</body>

<script>

/*
var canvas = document.getElementById('tutorial');
console.log(canvas);
if (canvas.getContext){
var ctx = canvas.getContext('2d');
console.log(typeof ctx);
}
*/

/**
* @type Window
*/
var win = demo.demoWindow(640, 480, "math");


var canvas = win.getCanvas();

/**
* @type Image
*/
var image = Radamn.Assets.getImage("../examples/resources/images/rock.png");

var node = win.getRootNode();

node.addEvent("click", function(e) {
    console.log(e);
});


var childnode1 = new Radamn.Node();

childnode1.appendEntity(image);

node.appendChild(childnode1);

var childnode1_tween = new Fx.NodeTween(childnode1, {
    link: 'cancel',
    transition: 'bounce:out',
    duration: 1500,
    fps: 12
});

// chain! and morph!
childnode1_tween.start("x", 0, 250, false);
childnode1_tween.addEventOnce("complete", function() {
    childnode1_tween.start("y", 0, 200, false);
    childnode1_tween.addEventOnce("complete", function() {
        childnode1_tween.start("scale", "1 1", "2 2", false);
        childnode1_tween.addEventOnce("complete", function() {
            childnode1_tween.start("rotate", 0, 90, false);
            childnode1_tween.addEventOnce("complete", function() {
                childnode1_tween.start("skew", "0 0", "30 30", false);
            });
        });
    });
});

var counter = 0;
win.onRequestFrame = function(delta) {
    ++counter;

    win.render(delta);
};

//wait for everything to load
setTimeout(function() {
    Radamn.listenInput(250);
    Radamn.start(250);
},1000);



</script>
</html>


